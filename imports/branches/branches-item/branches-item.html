<p-modal header="Branch Maintenance: {{brancheModel.name}}" responsive="true" [(visible)]="display" width="600">

    <branches-form [branchModelItem]="brancheModel" [action]="action" (HideDialogEvent)="hideDialog($event)"> </branches-form>


</p-modal>

<p-modal-delete header="Branch Maintenance: Delete ~ {{brancheModel.name}}" [(visible)]="displayDeleteModal" width="500">

    <branches-form [branchModelItem]="brancheModel" [action]="'delete'" (DeleteObjectEvent)="deleteBranch($event)" (HideDialogEvent)="hideDialog($event)">
    </branches-form>

</p-modal-delete>




<div class="col-md-4" style="color:wheat;border-width:2px; border-style:solid; border-radius:6px;text-align:center">
    <div style="border-style:none; border-width:2px; border-color:white; border-radius:4px; width:100%; background:transparent">

        <table style="width:100%; position:relative; background-color:transparent;">
            <tr>
                <td>

                    <div style="text-align:center; width:100%; height:100%;font-size:1.25em">
                        {{brancheModel.address}}
                    </div>

                </td>
            </tr>
            <tr>
                <td>

                    <div style="text-align:center; width:100%; height:100%;">
                        <img [(src)]="brancheModel.imageAsData" />
                    </div>

                </td>
            </tr>
        </table>

        <table style="background-color:#D00A00;">

            <tr style="">

                <td style="width:100%;vertical-align:top; padding:0px 10px 0px 0px">

                    <table style="width:100%; height:100%;">
                        <tr [ngStyle]="{  'background': brancheModel.editColor }">
                            <td style="width:150px;">
                                <input *ngIf="brancheModel.isEditable" style="width:150px;background:white; color:black;" [(ngModel)]="brancheModel.address" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled"
                                />
                                <div>
                                    <div id="myDiv{{theIndex}}" *ngIf="!brancheModel.isEditable" style="width:150px;white-space:nowrap; overflow:hidden;"></div>
                                </div>
                            </td>

                        </tr>
                    </table>

                </td>


                <td style="background-color:transparent;vertical-align:top; white-space:nowrap">

                    <button style="color:white;background-color:#D00A00;" class="btn btn-primary btn-xs" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled"
                        (click)="editBranch(brancheModel)" *ngIf="!brancheModel.isEditable">Edit</button>

                    <button style="color:white;background-color:#D00A00;" class="btn btn-primary btn-xs" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled"
                        (click)="updateBranch(brancheModel)" *ngIf="brancheModel.isEditable">Update</button>

                    <button style="color:white;background-color:#D00A00;" class="btn btn-primary btn-xs" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled"
                        (click)="showDialog('delete')" *ngIf="!brancheModel.isEditable">Delete</button>

                    <button style="color:white;background-color:#D00A00;" class="btn btn-primary btn-xs" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled"
                        (click)="cancelBranch(brancheModel, key)" *ngIf="brancheModel.isEditable">Cancel</button>

                    <!--<button style="color:white;background-color:#D00A00;" class="btn btn-primary btn-xs" data-toggle="modal" [attr.data-target]="'#myBrancheFormModal' + theIndex"
                        (click)="doModal($event)" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled"
                        *ngIf="!brancheModel.isEditable">Run</button>-->

                    <button style="color:white;background-color:#D00A00;" class="btn btn-primary btn-xs" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled"
                        *ngIf="!brancheModel.isEditable" (click)="showDialog('update')">Modify</button>



                </td>


            </tr>
        </table>

    </div>

</div>







<!--<table>
    <tr *ngIf="theIndex == 0">
        <th style="text-align:left;">Name</th>
        <th style="text-align:left;">Status</th>
        <th style="text-align:left;">Phone</th>
        <th style="text-align:left;">Expiry Date</th>
        <th></th>
    </tr>
    <tr class="copy2" [ngStyle]="{  'background': brancheModel.editColor }">
        <td style="width:150px;">
            <input *ngIf="brancheModel.isEditable" style="width:150px;" [(ngModel)]="brancheModel.name" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled"
            />
            <div class="adtooltip">
                <div id="myDiv{{theIndex}}" *ngIf="!brancheModel.isEditable" style="width:150px;white-space:nowrap; overflow:hidden;">{{brancheModel.name}}</div>
            </div>
        </td>


        <td style="width:150px;">
            <input *ngIf="brancheModel.isEditable" style="width:150px;" [(ngModel)]="brancheModel.status" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled"
            />
            <div class="adtooltip">
                <div *ngIf="!brancheModel.isEditable" style="width:150px;white-space:nowrap; overflow:hidden;">{{brancheModel.status}}</div>
            </div>
        </td>

        <td style="width:150px;">
            <input *ngIf="brancheModel.isEditable" style="width:150px;" [(ngModel)]="brancheModel.phone" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled"
            />
            <div class="adtooltip">
                <div *ngIf="!brancheModel.isEditable" style="width:150px;white-space:nowrap; overflow:hidden;">{{brancheModel.phone}}</div>
            </div>
        </td>

        <td style="width:130px;">
            <div style="width:110px;white-space:nowrap;">{{brancheModel.expiryDate | date:'dd/MM/yyyy @ HH:mm'}}</div>
        </td>


        <td>
            <button class="btn btn-primary btn-xs" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled" (click)="editBranch(brancheModel)"
                *ngIf="!brancheModel.isEditable">Edit</button>
            <button class="btn btn-primary btn-xs" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled" (click)="updateBranch(brancheModel)"
                *ngIf="brancheModel.isEditable">Update</button>
        </td>
        <td>
            <button class="btn btn-primary btn-xs" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled" (click)="deleteBranch(brancheModel)"
                *ngIf="!brancheModel.isEditable">Delete</button>
            <button class="btn btn-primary btn-xs" [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled" (click)="cancelBranch(brancheModel, key)"
                *ngIf="brancheModel.isEditable">Cancel</button>
        </td>


        <td>
            <button id="myButton" class="btn btn-primary btn-xs" data-toggle="modal" [attr.data-target]="'#myModal' + theIndex" (click)="doModal($event)"
                [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled" *ngIf="!brancheModel.isEditable">Run</button>

        </td>

        <td>
            <button id="myButton" class="btn btn-primary btn-xs" data-toggle="modal" [attr.data-target]="'#myBrancheFormModal' + theIndex" (click)="doModal($event)"
                [disabled]="brancheModel.isDisabled == null ? false : brancheModel.isDisabled" *ngIf="!brancheModel.isEditable">Run</button>

        </td>
<td>
          <img [src]="brancheModel.imageAsData" />
    </td>
    

    </tr>
</table>-->